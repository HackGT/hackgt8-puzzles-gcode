<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>à¶ž MAKEITplace</title>
    <meta name="title" content="Puzzles submission page"/>
    <meta
      name="description"
      content="Puzzles submission page"
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://makeitplace.hack.gt/submit" />
    <meta property="og:title" content="HackGT 8 Puzzles" />
    <meta
      property="og:description"
      content="Puzzles submission page"
    />
    <meta
      property="og:image"
      content="https://2021.hack.gt/assets/preview.png"
    />
    <link href="https://css.gg/chevron-right.css" rel="stylesheet" />
    <link href="https://css.gg/chevron-down.css" rel="stylesheet" />
    <link rel="icon" href="./assets/favicon.ico" />
    <link rel="stylesheet" href="./index.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
      </head>

  <body style="background-image: url('assets/bg.png');">

      <section class="center" id="submitbox">
        <h2><a style="color:white;" href="assets/MAKEITplace.tar.gz">Files</a></h2>

        <h2>Answer:</h2>

        
        <div id="err"></div>
        <input type="text" id="answer" name="answer" placeholder="sheeeeeeeeeesh" >
        <button id="submitbutt"> Submit</button>
        <p> Want to discuss puzzles with other hackers? Join our discord <a href="https://discord.hexlabs.org/">here</a>!</p>
        <p> Type "?weliveinasociety" in a channel to be added to the puzzles channel.</p>
     <script>
      document.getElementById("submitbutt").addEventListener("click", function() {
               console.log(document.getElementById('answer').value); 
               axios.post(
                "/submit", 
                JSON.stringify({
                    "answer": document.getElementById('answer').value
                }),
                {
                    headers: {
                            'Content-Type': 'application/json',
                            'Access-Control-Allow-Origin': '*'
                    }
                }
                ).then((response) => {
                        if(response.data['success']==true || 
                            (
                                response.data['success']==false && 
                                response.data['error']==="You have already submitted a solution!"
                        )){
                            document.getElementById("answer").style.borderColor = "green";
                            window.location.replace("https://puzzles.hack.gt");
                        } else if (response.data['success']==false && 
                               response.data['error']==="Answer is incorrect!") {
                            document.getElementById("answer").style.borderColor = "red";
                        }else {
                                 console.log(response);}
                })
                .catch((error => {console.log(error);}))
        });
     </script>


     </section>

    <footer class="pd-4">
      <div class="socials">
        <ul>
          <li>
            <a href="https://www.instagram.com/thehexlabs/" target="_blank">
              <img src="./assets/social/insta.svg" alt="Instagram logo" />
            </a>
          </li>
          <li>
            <a href="https://www.facebook.com/TheHexLabs" target="_blank">
              <img src="./assets/social/facebook.svg" alt="Facebook logo" />
            </a>
          </li>
          <li>
            <a href="https://www.twitter.com/TheHexLabs" target="_blank">
              <img src="./assets/social/twitter.svg" alt="Twitter logo" />
            </a>
          </li>
          <li>
            <a href="https://www.github.com/HackGT" target="_blank">
              <img src="./assets/social/github.svg" alt="GitHub logo" />
            </a>
          </li>
          <li>
            <a href="https://www.hexlabs.org" target="_blank">
              <img src="./assets/social/web.svg" alt="Web logo" />
            </a>
          </li>
        </ul>
      </div>
      <div>Made with &lt;3 by HexLabs</div>
    </footer>

  </body>
</html>
